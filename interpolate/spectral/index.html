<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Additional color spaces for ColorAide"><link href=https://facelessuser.github.io/coloraide-extras/interpolate/spectral/ rel=canonical><link href=../ rel=prev><link href=../../contrast/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.6"><title>Spectral - ColorAide Extras Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.8608ea7d.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><script src=../../assets/pymdownx-extras/material-extra-theme-2ek1P7jT.js type=text/javascript></script><script src=../../assets/pymdownx-extras/material-extra-3rdparty-BUCF4rjN.js type=text/javascript></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/coloraide-extras/extra-fb70a42784.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/ace-builds@1.39.0/css/ace.css><link rel=stylesheet href=../../assets/pymdownx-extras/extra-3005714f37.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=dracula data-md-color-primary=deep-purple data-md-color-accent=deep-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#spectral-interpolation class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=header.title> <a href=https://facelessuser.github.io/coloraide-extras/ title="ColorAide Extras Documentation" class="md-header__button md-logo" aria-label="ColorAide Extras Documentation"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5zM6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ColorAide Extras Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Spectral </span> </div> </div> </div> <div class=md-header__options> <div class="md-header-nav__scheme md-header-nav__button md-source__icon md-icon"> <a href=javascript:toggleScheme(); title="Light mode" class=light-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </a> <a href=javascript:toggleScheme(); title="Dark mode" class=dark-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </a> <a href=javascript:toggleScheme(); title="System preference" class=system-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.5 2c-1.79 1.15-3 3.18-3 5.5s1.21 4.35 3.03 5.5C4.46 13 2 10.54 2 7.5A5.5 5.5 0 0 1 7.5 2m11.57 1.5 1.43 1.43L4.93 20.5 3.5 19.07zm-6.18 2.43L11.41 5 9.97 6l.42-1.7L9 3.24l1.75-.12.58-1.65L12 3.1l1.73.03-1.35 1.13zm-3.3 3.61-1.16-.73-1.12.78.34-1.32-1.09-.83 1.36-.09.45-1.29.51 1.27 1.36.03-1.05.87zM19 13.5a5.5 5.5 0 0 1-5.5 5.5c-1.22 0-2.35-.4-3.26-1.07l7.69-7.69c.67.91 1.07 2.04 1.07 3.26m-4.4 6.58 2.77-1.15-.24 3.35zm4.33-2.7 1.15-2.77 2.2 2.54zm1.15-4.96-1.14-2.78 3.34.24zM9.63 18.93l2.77 1.15-2.53 2.19z"/></svg> </a> <a href=javascript:toggleScheme(); title="Unknown scheme" class=unknown-mode> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m15.07 11.25-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 0 0-2-2 2 2 0 0 0-2 2H8a4 4 0 0 1 4-4 4 4 0 0 1 4 4 3.2 3.2 0 0 1-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10"/></svg> </a> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/facelessuser/coloraide-extras title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class="md-tabs__item md-tabs__item--active"> <a href=../.. class=md-tabs__link> ColorAide Extras </a> </li> <li class=md-tabs__item> <a href=../../playground/ class=md-tabs__link> Playground </a> </li> <li class=md-tabs__item> <a href=../../about/contributing/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="ColorAide Extras Documentation" class="md-nav__button md-logo" aria-label="ColorAide Extras Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5zM6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5"/></svg> </a> ColorAide Extras Documentation </label> <div class=md-nav__source> <a href=https://github.com/facelessuser/coloraide-extras title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1 checked> <div class="md-nav__link md-nav__container"> <a href=../.. class="md-nav__link "> <span class=md-ellipsis> ColorAide Extras </span> </a> <label class="md-nav__link " for=__nav_1 id=__nav_1_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=true> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> ColorAide Extras </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_2> <div class="md-nav__link md-nav__container"> <a href=../../colors/ class="md-nav__link "> <span class=md-ellipsis> Color Spaces </span> </a> <label class="md-nav__link " for=__nav_1_2 id=__nav_1_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_1_2> <span class="md-nav__icon md-icon"></span> Color Spaces </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../colors/uvw/ class=md-nav__link> <span class=md-ellipsis> CIE 1964 UVW </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_3 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Color Interpolation </span> </a> <label class="md-nav__link " for=__nav_1_3 id=__nav_1_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_3_label aria-expanded=true> <label class=md-nav__title for=__nav_1_3> <span class="md-nav__icon md-icon"></span> Color Interpolation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Spectral </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Spectral </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#description class=md-nav__link> <span class=md-ellipsis> Description </span> </a> </li> <li class=md-nav__item> <a href=#how-it-works class=md-nav__link> <span class=md-ellipsis> How It Works </span> </a> </li> <li class=md-nav__item> <a href=#differences class=md-nav__link> <span class=md-ellipsis> Differences </span> </a> </li> <li class=md-nav__item> <a href=#registering class=md-nav__link> <span class=md-ellipsis> Registering </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_4> <div class="md-nav__link md-nav__container"> <a href=../../contrast/ class="md-nav__link "> <span class=md-ellipsis> Color Contrast </span> </a> <label class="md-nav__link " for=__nav_1_4 id=__nav_1_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_1_4> <span class="md-nav__icon md-icon"></span> Color Contrast </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../contrast/weber/ class=md-nav__link> <span class=md-ellipsis> Weber Contrast </span> </a> </li> <li class=md-nav__item> <a href=../../contrast/michelson/ class=md-nav__link> <span class=md-ellipsis> Michelson Contrast </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../playground/ class=md-nav__link> <span class=md-ellipsis> Playground </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> About </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../about/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing &amp; Support </span> </a> </li> <li class=md-nav__item> <a href=../../about/changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../../about/license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#description class=md-nav__link> <span class=md-ellipsis> Description </span> </a> </li> <li class=md-nav__item> <a href=#how-it-works class=md-nav__link> <span class=md-ellipsis> How It Works </span> </a> </li> <li class=md-nav__item> <a href=#differences class=md-nav__link> <span class=md-ellipsis> Differences </span> </a> </li> <li class=md-nav__item> <a href=#registering class=md-nav__link> <span class=md-ellipsis> Registering </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=spectral-interpolation>Spectral Interpolation<a class=headerlink href=#spectral-interpolation title="Permanent link"></a></h1> <h2 id=description>Description<a class=headerlink href=#description title="Permanent link"></a></h2> <p>Light, on its own, doesn't mix like pigments due to the way pigments absorb and scatter light. <a href=https://en.wikipedia.org/wiki/Kubelka%E2%80%93Munk_theory>Kubelka-Munk theory</a> is a fundamental approach to modelling the appearance of paint films and predicting this absorption and scattering. Utilizing Kubelka-Munk theory, colors can be simulated to mix more like paints.</p> <div class=color-wheel style="--color-wheel-stops1: rgb(67.483 103.6 167.55) -1%,rgb(67.483 103.6 167.55) 33.333333333333336%,rgb(251.51 216.1 26.013) 33.333333333333336%,rgb(251.51 216.1 26.013) 66.66666666666667%,rgb(187.73 31.049 95.005) 66.66666666666667%,rgb(187.73 31.049 95.005) 100.0%;--color-wheel-stops2: rgb(231.16 101.46 60.898) -1%,rgb(231.16 101.46 60.898) 33.333333333333336%,rgb(104.02 54.974 120.02) 33.333333333333336%,rgb(104.02 54.974 120.02) 66.66666666666667%,rgb(133.28 171.42 64.897) 66.66666666666667%,rgb(133.28 171.42 64.897) 100.0%;--color-wheel-stops3: rgb(150.65 40.583 99.964) -1%,rgb(150.65 40.583 99.964) 8.333333333333334%,rgb(104.02 54.974 120.02) 8.333333333333334%,rgb(104.02 54.974 120.02) 16.666666666666668%,rgb(79.984 84.54 153.53) 16.666666666666668%,rgb(79.984 84.54 153.53) 25.0%,rgb(67.483 103.6 167.55) 25.0%,rgb(67.483 103.6 167.55) 33.333333333333336%,rgb(76.142 126.69 96.205) 33.333333333333336%,rgb(76.142 126.69 96.205) 41.66666666666667%,rgb(133.28 171.42 64.897) 41.66666666666667%,rgb(133.28 171.42 64.897) 50.00000000000001%,rgb(202.15 206.85 42.491) 50.00000000000001%,rgb(202.15 206.85 42.491) 58.33333333333334%,rgb(251.51 216.1 26.013) 58.33333333333334%,rgb(251.51 216.1 26.013) 66.66666666666667%,rgb(248.75 170.55 48.499) 66.66666666666667%,rgb(248.75 170.55 48.499) 75.0%,rgb(231.16 101.46 60.898) 75.0%,rgb(231.16 101.46 60.898) 83.33333333333333%,rgb(201.39 51.725 74.725) 83.33333333333333%,rgb(201.39 51.725 74.725) 91.66666666666666%,rgb(187.73 31.049 95.005) 91.66666666666666%,rgb(187.73 31.049 95.005) 99.99999999999999%;"><div class=wheel> <div class=tertiary><div class=secondary><div class=secondary-inner><div class=primary><div class=primary-inner></div></div></div></div></div></div></div> <div class=playground id=__playground_1> <div class=playground-results id=__playground-results_1> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(187.73 31.049 95.005) 0%,rgb(187.73 31.049 95.005) 8.333333333333334%,rgb(201.39 51.725 74.725) 8.333333333333334%,rgb(201.39 51.725 74.725) 16.666666666666668%,rgb(231.16 101.46 60.898) 16.666666666666668%,rgb(231.16 101.46 60.898) 25.0%,rgb(248.75 170.55 48.499) 25.0%,rgb(248.75 170.55 48.499) 33.333333333333336%,rgb(251.51 216.1 26.013) 33.333333333333336%,rgb(251.51 216.1 26.013) 41.66666666666667%,rgb(202.15 206.85 42.491) 41.66666666666667%,rgb(202.15 206.85 42.491) 50.00000000000001%,rgb(133.28 171.42 64.897) 50.00000000000001%,rgb(133.28 171.42 64.897) 58.33333333333334%,rgb(76.142 126.69 96.205) 58.33333333333334%,rgb(76.142 126.69 96.205) 66.66666666666667%,rgb(67.483 103.6 167.55) 66.66666666666667%,rgb(67.483 103.6 167.55) 75.0%,rgb(79.984 84.54 153.53) 75.0%,rgb(79.984 84.54 153.53) 83.33333333333333%,rgb(104.02 54.974 120.02) 83.33333333333333%,rgb(104.02 54.974 120.02) 91.66666666666666%,rgb(150.65 40.583 99.964) 91.66666666666666%,rgb(150.65 40.583 99.964) 99.99999999999999%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>red</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;rgb(128, 2, 46)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>mix</span><span class=p>(</span><span class=s1>&#39;white&#39;</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;spectral&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>yellow</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;rgb(252, 211, 0)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>mix</span><span class=p>(</span><span class=s1>&#39;white&#39;</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;spectral&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>blue</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;rgb(13, 27, 68)&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>mix</span><span class=p>(</span><span class=s1>&#39;white&#39;</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;spectral&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>(</span><span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=n>red</span><span class=p>,</span> <span class=n>yellow</span><span class=p>,</span> <span class=n>blue</span><span class=p>,</span> <span class=n>red</span><span class=p>],</span> <span class=n>steps</span><span class=o>=</span><span class=mi>13</span><span class=p>,</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;spectral&#39;</span><span class=p>)[:</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
<span class=go>[color(xyz-d65 0.23229 0.12468 0.12011 / 1), color(xyz-d65 0.26668 0.15409 0.08178 / 1), color(xyz-d65 0.38545 0.26751 0.07534 / 1), color(xyz-d65 0.53999 0.49271 0.09517 / 1), color(xyz-d65 0.64734 0.69845 0.1105 / 1), color(xyz-d65 0.47101 0.57302 0.10816 / 1), color(xyz-d65 0.25308 0.34672 0.10345 / 1), color(xyz-d65 0.12661 0.17488 0.13825 / 1), color(xyz-d65 0.14283 0.13841 0.38748 / 1), color(xyz-d65 0.12312 0.10447 0.31737 / 1), color(xyz-d65 0.10467 0.07031 0.1858 / 1), color(xyz-d65 0.15774 0.09023 0.12959 / 1)]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_1 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_1 spellcheck=false>red = Color('rgb(128, 2, 46)').mix('white', 0.3, method='spectral')
yellow = Color('rgb(252, 211, 0)').mix('white', 0.3, method='spectral')
blue = Color('rgb(13, 27, 68)').mix('white', 0.3, method='spectral')
Steps(Color.steps([red, yellow, blue, red], steps=13, method='spectral')[:-1])</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_1 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_1 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_1 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_1 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>The "spectral" interpolation method is based on Kubelka-Munk theory and, more specifically, follows after the approach implemented in the <a href=https://github.com/rvanwijnen/spectral.js>Spectral.js</a> project. Spectral.js approximates paint mixing by using spectral data to generate reflectance curves and uses them to mix colors by applying Kubelka-Munk theory. This approach is also based off the work that was done during the development of another project, <a href=https://github.com/scrtwpns/mixbox>Mixbox</a>. More specifically, it is based on the <a href=https://scrtwpns.com/mixbox.pdf>paper that the Mixbox folks published</a>.</p> <p>While Mixbox uses real paint data and tries to model these paints as close as it can, the "spectral" approach tries more to capture the feel of mixing paints without specifically basing it off real paint data.</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Spectral Mix</label><label for=__tabbed_1_2>RGB Mix</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=playground id=__playground_2> <div class=playground-results id=__playground-results_2> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(0 33 133),rgb(0 33.066 132.88),rgb(0 33.265 132.5),rgb(0 33.59 131.89),rgb(0 34.034 131.04),rgb(0 34.581 129.97),rgb(0 35.218 128.71),rgb(0 35.926 127.27),rgb(0 36.69 125.68),rgb(0 37.495 123.97),rgb(0 38.327 122.17),rgb(0 39.174 120.29),rgb(0 40.027 118.37),rgb(0 40.88 116.42),rgb(0 41.727 114.47),rgb(0 42.564 112.52),rgb(0 43.39 110.59),rgb(0 44.204 108.7),rgb(0 45.005 106.85),rgb(0 45.794 105.04),rgb(0 46.568 103.18),rgb(0 47.315 100.92),rgb(0 48.047 98.811),rgb(0 48.763 96.775),rgb(0 49.469 94.887),rgb(0 50.167 93.116),rgb(0 50.857 91.437),rgb(0 51.546 89.889),rgb(0 52.235 88.466),rgb(0 52.925 87.141),rgb(0 53.62 85.928),rgb(0 54.321 84.82),rgb(0 55.03 83.81),rgb(0 55.748 82.891),rgb(0 56.474 82.041),rgb(0 57.206 81.239),rgb(0 57.944 80.483),rgb(0 58.689 79.771),rgb(0 59.442 79.101),rgb(0 60.201 78.471),rgb(0 60.971 77.891),rgb(0 61.752 77.36),rgb(0 62.541 76.86),rgb(0 63.342 76.403),rgb(0 64.157 75.994),rgb(0 64.981 75.61),rgb(0 65.817 75.258),rgb(0 66.665 74.935),rgb(0 67.526 74.639),rgb(0 68.391 74.351),rgb(0 69.271 74.093),rgb(0 70.16 73.848),rgb(0 71.061 73.621),rgb(0 71.971 73.404),rgb(0 72.887 73.196),rgb(0 73.812 72.995),rgb(0 74.748 72.806),rgb(0 75.692 72.623),rgb(0 76.642 72.444),rgb(0 77.6 72.269),rgb(0 78.565 72.097),rgb(0 79.54 71.929),rgb(0 80.522 71.762),rgb(0 81.506 71.594),rgb(0 82.5 71.427),rgb(0 83.5 71.26),rgb(0 84.51 71.089),rgb(0 85.517 70.919),rgb(0 86.538 70.743),rgb(0 87.565 70.563),rgb(0 88.596 70.379),rgb(0 89.632 70.189),rgb(0 90.644 70.017),rgb(0 91.642 69.863),rgb(0 92.642 69.713),rgb(0 93.646 69.566),rgb(0 94.653 69.422),rgb(0 95.663 69.28),rgb(0 96.676 69.141),rgb(0 97.691 69.005),rgb(0 98.709 68.87),rgb(0 99.729 68.736),rgb(0 100.75 68.604),rgb(0 101.77 68.473),rgb(0 102.8 68.342),rgb(0 103.83 68.213),rgb(0 104.86 68.083),rgb(0 105.89 67.954),rgb(0 106.92 67.824),rgb(0 107.95 67.695),rgb(0 108.98 67.565),rgb(0 110.01 67.434),rgb(0 111.05 67.303),rgb(0 112.08 67.171),rgb(0 113.12 67.037),rgb(0 114.15 66.903),rgb(0 115.18 66.767),rgb(1.4295 116.22 66.63),rgb(4.3384 117.25 66.491),rgb(7.372 118.28 66.351),rgb(10.528 119.32 66.209),rgb(13.474 120.35 66.065),rgb(16.13 121.38 65.919),rgb(18.582 122.41 65.77),rgb(20.883 123.43 65.62),rgb(23.066 124.46 65.467),rgb(25.156 125.48 65.312),rgb(27.17 126.51 65.155),rgb(29.121 127.53 64.995),rgb(31.019 128.55 64.832),rgb(32.873 129.57 64.667),rgb(34.689 130.58 64.499),rgb(36.472 131.59 64.329),rgb(38.227 132.6 64.155),rgb(39.957 133.61 63.979),rgb(41.666 134.62 63.799),rgb(43.355 135.62 63.617),rgb(45.029 136.62 63.431),rgb(46.687 137.61 63.243),rgb(48.333 138.61 63.051),rgb(49.967 139.6 62.856),rgb(51.591 140.58 62.658),rgb(53.206 141.57 62.456),rgb(54.813 142.55 62.252),rgb(56.413 143.52 62.043),rgb(58.007 144.49 61.832),rgb(59.595 145.46 61.617),rgb(61.179 146.42 61.399),rgb(62.759 147.38 61.177),rgb(64.335 148.34 60.951),rgb(65.908 149.29 60.722),rgb(67.478 150.24 60.49),rgb(69.046 151.18 60.253),rgb(70.612 152.11 60.014),rgb(72.176 153.05 59.77),rgb(73.739 153.97 59.523),rgb(75.301 154.9 59.272),rgb(76.862 155.81 59.018),rgb(78.422 156.73 58.759),rgb(79.982 157.63 58.497),rgb(81.542 158.54 58.231),rgb(83.102 159.43 57.962),rgb(84.662 160.32 57.688),rgb(86.221 161.21 57.411),rgb(87.782 162.09 57.13),rgb(89.342 162.96 56.845),rgb(90.904 163.83 56.556),rgb(92.465 164.69 56.263),rgb(94.028 165.55 55.966),rgb(95.591 166.4 55.666),rgb(97.155 167.24 55.361),rgb(98.719 168.08 55.053),rgb(100.28 168.91 54.74),rgb(101.85 169.73 54.424),rgb(103.42 170.55 54.103),rgb(104.99 171.36 53.779),rgb(106.56 172.16 53.45),rgb(108.13 172.96 53.118),rgb(109.7 173.75 52.782),rgb(111.27 174.54 52.441),rgb(112.84 175.31 52.097),rgb(114.41 176.08 51.748),rgb(115.99 176.85 51.395),rgb(117.56 177.6 51.038),rgb(119.14 178.35 50.678),rgb(120.71 179.09 50.313),rgb(122.29 179.83 49.944),rgb(123.87 180.55 49.571),rgb(125.45 181.27 49.193),rgb(127.02 181.98 48.812),rgb(128.6 182.69 48.426),rgb(130.18 183.38 48.037),rgb(131.76 184.07 47.643),rgb(133.34 184.75 47.245),rgb(134.92 185.42 46.843),rgb(136.5 186.09 46.437),rgb(138.08 186.74 46.026),rgb(139.66 187.39 45.611),rgb(141.24 188.03 45.193),rgb(142.82 188.66 44.77),rgb(144.4 189.28 44.342),rgb(145.98 189.9 43.911),rgb(147.56 190.5 43.475),rgb(149.14 191.1 43.035),rgb(150.71 191.69 42.591),rgb(152.29 192.27 42.143),rgb(153.86 192.84 41.69),rgb(155.44 193.41 41.233),rgb(157.01 193.96 40.772),rgb(158.58 194.51 40.306),rgb(160.15 195.04 39.837),rgb(161.72 195.57 39.363),rgb(163.29 196.09 38.884),rgb(164.86 196.6 38.401),rgb(166.42 197.1 37.914),rgb(167.98 197.59 37.423),rgb(169.54 198.08 36.927),rgb(171.1 198.55 36.427),rgb(172.66 199.01 35.922),rgb(174.21 199.47 35.413),rgb(175.76 199.91 34.9),rgb(177.31 200.35 34.382),rgb(178.85 200.78 33.86),rgb(180.4 201.19 33.333),rgb(181.94 201.6 32.801),rgb(183.47 202 32.265),rgb(185.01 202.39 31.724),rgb(186.54 202.77 31.178),rgb(188.06 203.14 30.628),rgb(189.58 203.5 30.073),rgb(191.1 203.85 29.513),rgb(192.62 204.19 28.948),rgb(194.13 204.52 28.378),rgb(195.64 204.84 27.803),rgb(197.14 205.15 27.223),rgb(198.64 205.45 26.638),rgb(200.13 205.75 26.047),rgb(201.62 206.03 25.451),rgb(203.1 206.3 24.849),rgb(204.58 206.57 24.241),rgb(206.06 206.82 23.627),rgb(207.52 207.07 23.007),rgb(208.99 207.3 22.381),rgb(210.44 207.53 21.748),rgb(211.9 207.74 21.108),rgb(213.34 207.95 20.462),rgb(214.78 208.14 19.807),rgb(216.22 208.33 19.145),rgb(217.64 208.51 18.475),rgb(219.06 208.68 17.796),rgb(220.48 208.84 17.108),rgb(221.88 208.99 16.41),rgb(223.29 209.13 15.702),rgb(224.68 209.26 14.982),rgb(226.06 209.38 14.251),rgb(227.44 209.5 13.507),rgb(228.81 209.6 12.749),rgb(230.17 209.7 11.976),rgb(231.53 209.78 11.186),rgb(232.87 209.86 10.378),rgb(234.21 209.93 9.5534),rgb(235.53 209.99 8.7465),rgb(236.85 210.04 7.9585),rgb(238.16 210.09 7.1899),rgb(239.45 210.12 6.441),rgb(240.73 210.15 5.7124),rgb(242 210.17 5.0049),rgb(243.25 210.18 4.3195),rgb(244.49 210.18 3.6577),rgb(245.7 210.18 3.0214),rgb(246.88 210.16 2.4139),rgb(248.03 210.14 1.8394),rgb(249.13 210.12 1.3051),rgb(250.15 210.08 0.8224),rgb(251.05 210.05 0.412),rgb(251.73 210.01 0.11459),rgb(252 210 0)"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(0 33 133) 0%,rgb(0 33 133) 11.11111111111111%,rgb(0 55.03 83.81) 11.11111111111111%,rgb(0 55.03 83.81) 22.22222222222222%,rgb(0 82.5 71.427) 22.22222222222222%,rgb(0 82.5 71.427) 33.33333333333333%,rgb(0 115.18 66.767) 33.33333333333333%,rgb(0 115.18 66.767) 44.44444444444444%,rgb(62.759 147.38 61.177) 44.44444444444444%,rgb(62.759 147.38 61.177) 55.55555555555556%,rgb(112.84 175.31 52.097) 55.55555555555556%,rgb(112.84 175.31 52.097) 66.66666666666667%,rgb(163.29 196.09 38.884) 66.66666666666667%,rgb(163.29 196.09 38.884) 77.77777777777779%,rgb(211.9 207.74 21.108) 77.77777777777779%,rgb(211.9 207.74 21.108) 88.8888888888889%,rgb(252 210 0) 88.8888888888889%,rgb(252 210 0) 100.00000000000001%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>c1</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;#002185&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c2</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;#FCD200&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=o>.</span><span class=n>interpolate</span><span class=p>([</span><span class=n>c1</span><span class=p>,</span> <span class=n>c2</span><span class=p>],</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;spectral&#39;</span><span class=p>)</span>
<span class=go>&lt;coloraide_extras.interpolate.spectral.InterpolatorSpectralLinear object at 0x107073e50&gt;</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>(</span><span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=n>c1</span><span class=p>,</span> <span class=n>c2</span><span class=p>],</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;spectral&#39;</span><span class=p>,</span> <span class=n>steps</span><span class=o>=</span><span class=mi>9</span><span class=p>))</span>
<span class=go>[color(xyz-d65 0.04777 0.02781 0.22476 / 1), color(xyz-d65 0.02702 0.03256 0.0952 / 1), color(xyz-d65 0.03708 0.06349 0.07065 / 1), color(xyz-d65 0.07141 0.12697 0.07348 / 1), color(xyz-d65 0.13374 0.22374 0.08054 / 1), color(xyz-d65 0.22802 0.34531 0.08724 / 1), color(xyz-d65 0.35287 0.47483 0.09216 / 1), color(xyz-d65 0.49749 0.59023 0.09487 / 1), color(xyz-d65 0.6319 0.6679 0.09564 / 1)]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_2 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_2 spellcheck=false>c1 = Color('#002185')
c2 = Color('#FCD200')
Color.interpolate([c1, c2], method='spectral')
Steps(Color.steps([c1, c2], method='spectral', steps=9))</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_2 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_2 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_2 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_2 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> </div> <div class=tabbed-block> <div class=playground id=__playground_3> <div class=playground-results id=__playground-results_3> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(0 33 133),rgb(1.9688 34.383 131.96),rgb(3.9375 35.766 130.92),rgb(5.9063 37.148 129.88),rgb(7.875 38.531 128.84),rgb(9.8438 39.914 127.8),rgb(11.813 41.297 126.77),rgb(13.781 42.68 125.73),rgb(15.75 44.063 124.69),rgb(17.719 45.445 123.65),rgb(19.688 46.828 122.61),rgb(21.656 48.211 121.57),rgb(23.625 49.594 120.53),rgb(25.594 50.977 119.49),rgb(27.563 52.359 118.45),rgb(29.531 53.742 117.41),rgb(31.5 55.125 116.38),rgb(33.469 56.508 115.34),rgb(35.438 57.891 114.3),rgb(37.406 59.273 113.26),rgb(39.375 60.656 112.22),rgb(41.344 62.039 111.18),rgb(43.313 63.422 110.14),rgb(45.281 64.805 109.1),rgb(47.25 66.187 108.06),rgb(49.219 67.57 107.02),rgb(51.188 68.953 105.98),rgb(53.156 70.336 104.95),rgb(55.125 71.719 103.91),rgb(57.094 73.102 102.87),rgb(59.063 74.484 101.83),rgb(61.031 75.867 100.79),rgb(63 77.25 99.75),rgb(64.969 78.633 98.711),rgb(66.938 80.016 97.672),rgb(68.906 81.398 96.633),rgb(70.875 82.781 95.594),rgb(72.844 84.164 94.555),rgb(74.813 85.547 93.516),rgb(76.781 86.93 92.477),rgb(78.75 88.313 91.438),rgb(80.719 89.695 90.398),rgb(82.688 91.078 89.359),rgb(84.656 92.461 88.32),rgb(86.625 93.844 87.281),rgb(88.594 95.227 86.242),rgb(90.563 96.609 85.203),rgb(92.531 97.992 84.164),rgb(94.5 99.375 83.125),rgb(96.469 100.76 82.086),rgb(98.438 102.14 81.047),rgb(100.41 103.52 80.008),rgb(102.38 104.91 78.969),rgb(104.34 106.29 77.93),rgb(106.31 107.67 76.891),rgb(108.28 109.05 75.852),rgb(110.25 110.44 74.813),rgb(112.22 111.82 73.773),rgb(114.19 113.2 72.734),rgb(116.16 114.59 71.695),rgb(118.13 115.97 70.656),rgb(120.09 117.35 69.617),rgb(122.06 118.73 68.578),rgb(124.03 120.12 67.539),rgb(126 121.5 66.5),rgb(127.97 122.88 65.461),rgb(129.94 124.27 64.422),rgb(131.91 125.65 63.383),rgb(133.88 127.03 62.344),rgb(135.84 128.41 61.305),rgb(137.81 129.8 60.266),rgb(139.78 131.18 59.227),rgb(141.75 132.56 58.188),rgb(143.72 133.95 57.148),rgb(145.69 135.33 56.109),rgb(147.66 136.71 55.07),rgb(149.63 138.09 54.031),rgb(151.59 139.48 52.992),rgb(153.56 140.86 51.953),rgb(155.53 142.24 50.914),rgb(157.5 143.63 49.875),rgb(159.47 145.01 48.836),rgb(161.44 146.39 47.797),rgb(163.41 147.77 46.758),rgb(165.38 149.16 45.719),rgb(167.34 150.54 44.68),rgb(169.31 151.92 43.641),rgb(171.28 153.3 42.602),rgb(173.25 154.69 41.563),rgb(175.22 156.07 40.523),rgb(177.19 157.45 39.484),rgb(179.16 158.84 38.445),rgb(181.13 160.22 37.406),rgb(183.09 161.6 36.367),rgb(185.06 162.98 35.328),rgb(187.03 164.37 34.289),rgb(189 165.75 33.25),rgb(190.97 167.13 32.211),rgb(192.94 168.52 31.172),rgb(194.91 169.9 30.133),rgb(196.88 171.28 29.094),rgb(198.84 172.66 28.055),rgb(200.81 174.05 27.016),rgb(202.78 175.43 25.977),rgb(204.75 176.81 24.937),rgb(206.72 178.2 23.898),rgb(208.69 179.58 22.859),rgb(210.66 180.96 21.82),rgb(212.63 182.34 20.781),rgb(214.59 183.73 19.742),rgb(216.56 185.11 18.703),rgb(218.53 186.49 17.664),rgb(220.5 187.87 16.625),rgb(222.47 189.26 15.586),rgb(224.44 190.64 14.547),rgb(226.41 192.02 13.508),rgb(228.38 193.41 12.469),rgb(230.34 194.79 11.43),rgb(232.31 196.17 10.391),rgb(234.28 197.55 9.3516),rgb(236.25 198.94 8.3125),rgb(238.22 200.32 7.2734),rgb(240.19 201.7 6.2344),rgb(242.16 203.09 5.1953),rgb(244.13 204.47 4.1563),rgb(246.09 205.85 3.1172),rgb(248.06 207.23 2.0781),rgb(250.03 208.62 1.0391),rgb(252 210 0)"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(0 33 133) 0%,rgb(0 33 133) 11.11111111111111%,rgb(31.5 55.125 116.38) 11.11111111111111%,rgb(31.5 55.125 116.38) 22.22222222222222%,rgb(63 77.25 99.75) 22.22222222222222%,rgb(63 77.25 99.75) 33.33333333333333%,rgb(94.5 99.375 83.125) 33.33333333333333%,rgb(94.5 99.375 83.125) 44.44444444444444%,rgb(126 121.5 66.5) 44.44444444444444%,rgb(126 121.5 66.5) 55.55555555555556%,rgb(157.5 143.63 49.875) 55.55555555555556%,rgb(157.5 143.63 49.875) 66.66666666666667%,rgb(189 165.75 33.25) 66.66666666666667%,rgb(189 165.75 33.25) 77.77777777777779%,rgb(220.5 187.87 16.625) 77.77777777777779%,rgb(220.5 187.87 16.625) 88.8888888888889%,rgb(252 210 0) 88.8888888888889%,rgb(252 210 0) 100.00000000000001%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>c1</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;#002185&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c2</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;#FCD200&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=o>.</span><span class=n>interpolate</span><span class=p>([</span><span class=n>c1</span><span class=p>,</span> <span class=n>c2</span><span class=p>],</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;srgb&#39;</span><span class=p>)</span>
<span class=go>&lt;coloraide.interpolate.linear.InterpolatorLinear object at 0x107218ec0&gt;</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>(</span><span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=n>c1</span><span class=p>,</span> <span class=n>c2</span><span class=p>],</span> <span class=n>space</span><span class=o>=</span><span class=s1>&#39;srgb&#39;</span><span class=p>,</span> <span class=n>steps</span><span class=o>=</span><span class=mi>9</span><span class=p>))</span>
<span class=go>[color(srgb 0 0.12941 0.52157 / 1), color(srgb 0.12353 0.21618 0.45637 / 1), color(srgb 0.24706 0.30294 0.39118 / 1), color(srgb 0.37059 0.38971 0.32598 / 1), color(srgb 0.49412 0.47647 0.26078 / 1), color(srgb 0.61765 0.56324 0.19559 / 1), color(srgb 0.74118 0.65 0.13039 / 1), color(srgb 0.86471 0.73676 0.0652 / 1), color(srgb 0.98824 0.82353 0 / 1)]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_3 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_3 spellcheck=false>c1 = Color('#002185')
c2 = Color('#FCD200')
Color.interpolate([c1, c2], space='srgb')
Steps(Color.steps([c1, c2], space='srgb', steps=9))</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_3 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_3 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_3 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_3 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> </div> </div> </div> <h2 id=how-it-works>How It Works<a class=headerlink href=#how-it-works title="Permanent link"></a></h2> <p>The idea is simple enough. Create a palette of primary colors from which you can mix and get all the colors within your desired gamut, which in our case is sRGB. Once the colors are selected, reflectance curves need to be generated for those primary colors. There are various ways in which such curves could be created, but the chosen approach that was settled on involves applying applying the <a href=http://scottburns.us/reflectance-curves-from-srgb-10/ >research of Scott Burns</a>. His research details a way to use spectral data to approximate reflectance curves for any color within the sRGB gamut.</p> <p>With our primary colors selected and the reflectance curves created for each one, we can use these curves to create any color within our gamut. More interestingly, we can take a color and deconstruct it into concentrations of these primary reflectance curves and then construct a new curve that represents the color.</p> <figure id=__figure-caption_1> <p><img alt="Decomposition of Color Reflectance Concentrations" src=../../images/reflect-orange.png></p> <figcaption> <p><span class=caption-prefix>Figure 1.</span> Orange decomposed into the red, green, blue reflectance curves and then reconstructed into its own curve.</p> </figcaption> </figure> <p>With the ability to represent any color within our gamut as a reflectance curve, we then can mix colors by identifying what the curves are and then applying Kubelka-Munk theory, converting those curves into absorption and scattering data and mixing them. Once mixed, we can transform them back to a reflectance curve and then back to our target color space.</p> <figure id=__figure-caption_2> <p><img alt="Reflectance Mix" src=../../images/reflect-mix.png></p> <figcaption> <p><span class=caption-prefix>Figure 2.</span> Combining a blue and red color to and getting green.</p> </figcaption> </figure> <p>Kubelka-Munk theory can be used in a couple of ways, one that utilizes absorption and scattering data independent of each other, which can be referred to as the two-constant approach, and one that treats the absorption and scattering as a single constant, which we will call the single-constant approach. Generally, for paint, the two-constant approach is probably more accurate, but since we generate the reflectance curves without knowing specifically what the absorption vs scattering properties are, especially since this is not based off real paint data, the "spectral" mixing uses the single-constant approach.</p> <p>Lastly, because the single-constant approach we are using produces colors a bit more darkly, Spectral.js applies an easing function to the interpolation progress that favors the more dominant luminance when mixing, biasing the color more towards the color with more intense luminance. This is applied to give a more aesthetically pleasing mix that appears more like what you wound have when using something like Mixbox.</p> <h2 id=differences>Differences<a class=headerlink href=#differences title="Permanent link"></a></h2> <p>It should be noted that we do deviate a bit from the Spectral.js implementation. As we explored this approach we found a few things that we found to be unnecessary, things we could improve upon, or just things we approached slightly different.</p> <ol style="list-style-type: decimal;" type=1> <li> <p>Following the approach outlined by Scott Burns, we regenerated all the data at higher precision and ensured that it was done with the same transformation matrices and white points that we use within our library. This was done just to ensure we have more precise transforms within our library.</p> </li> <li> <p>Spectral.js uses primary colors of:</p> <ul> <li><span><span class=swatch title="rgb(255 255 255)"><span class=swatch-color style="--swatch-stops: #ffffff,#ffffff;"></span></span><code class=highlight><span class=nf>rgb</span><span class=g>(</span><span class=m>255</span><span class=w> </span><span class=m>255</span><span class=w> </span><span class=m>255</span><span class=g>)</span></code></span></li> <li><span><span class=swatch title="rgb(255 0 0)"><span class=swatch-color style="--swatch-stops: #ff0000,#ff0000;"></span></span><code class=highlight><span class=nf>rgb</span><span class=g>(</span><span class=m>255</span><span class=w> </span><span class=m>0</span><span class=w> </span><span class=m>0</span><span class=g>)</span></code></span></li> <li><span><span class=swatch title="rgb(0 255 0)"><span class=swatch-color style="--swatch-stops: #00ff00,#00ff00;"></span></span><code class=highlight><span class=nf>rgb</span><span class=g>(</span><span class=m>0</span><span class=w> </span><span class=m>255</span><span class=w> </span><span class=m>0</span><span class=g>)</span></code></span></li> <li><span><span class=swatch title="rgb(0 0 255)"><span class=swatch-color style="--swatch-stops: #0000ff,#0000ff;"></span></span><code class=highlight><span class=nf>rgb</span><span class=g>(</span><span class=m>0</span><span class=w> </span><span class=m>0</span><span class=w> </span><span class=m>255</span><span class=g>)</span></code></span></li> <li><span><span class=swatch title="rgb(0 255 255)"><span class=swatch-color style="--swatch-stops: #00ffff,#00ffff;"></span></span><code class=highlight><span class=nf>rgb</span><span class=g>(</span><span class=m>0</span><span class=w> </span><span class=m>255</span><span class=w> </span><span class=m>255</span><span class=g>)</span></code></span></li> <li><span><span class=swatch title="rgb(255 0 255)"><span class=swatch-color style="--swatch-stops: #ff00ff,#ff00ff;"></span></span><code class=highlight><span class=nf>rgb</span><span class=g>(</span><span class=m>255</span><span class=w> </span><span class=m>0</span><span class=w> </span><span class=m>255</span><span class=g>)</span></code></span></li> <li><span><span class=swatch title="rgb(255 255 0)"><span class=swatch-color style="--swatch-stops: #ffff00,#ffff00;"></span></span><code class=highlight><span class=nf>rgb</span><span class=g>(</span><span class=m>255</span><span class=w> </span><span class=m>255</span><span class=w> </span><span class=m>0</span><span class=g>)</span></code></span></li> </ul> <p>During our evaluation, we found that only following were needed.</p> <ul> <li><span><span class=swatch title="rgb(255 0 0)"><span class=swatch-color style="--swatch-stops: #ff0000,#ff0000;"></span></span><code class=highlight><span class=nf>rgb</span><span class=g>(</span><span class=m>255</span><span class=w> </span><span class=m>0</span><span class=w> </span><span class=m>0</span><span class=g>)</span></code></span></li> <li><span><span class=swatch title="rgb(0 255 0)"><span class=swatch-color style="--swatch-stops: #00ff00,#00ff00;"></span></span><code class=highlight><span class=nf>rgb</span><span class=g>(</span><span class=m>0</span><span class=w> </span><span class=m>255</span><span class=w> </span><span class=m>0</span><span class=g>)</span></code></span></li> <li><span><span class=swatch title="rgb(0 0 255)"><span class=swatch-color style="--swatch-stops: #0000ff,#0000ff;"></span></span><code class=highlight><span class=nf>rgb</span><span class=g>(</span><span class=m>0</span><span class=w> </span><span class=m>0</span><span class=w> </span><span class=m>255</span><span class=g>)</span></code></span></li> </ul> <p>These three colors are sufficient to cover the entire gamut. The additional colors used by Spectral.js seem to be unnecessary and provided no noticeable improvements, at least as observed during our tests.</p> </li> <li> <p>We found that we could decompose colors into the concentrations of our primary colors by crafting a special matrix that allows us to apply a least squares approach, one that will generally yield positive results for colors in the sRGB gamut.</p> <p>When multiplied with an XYZ color, we get the concentrations of the red, green and blue spectral curves</p> <div style="font-size: 75%;" markdown> <pre class=arithmatex>\[
\begin{bmatrix}
3.2409699419045253 &amp; -1.537383177570097 &amp; -0.4986107602930039\\\
-0.9692436362808824 &amp; 1.8759675015077237 &amp; 0.041555057407175744\\\
0.055630079696993795 &amp; -0.20397695888897688 &amp; 1.0569715142428786
\end{bmatrix}
\begin{bmatrix}X\\\ Y\\\ Z\end{bmatrix} =
\begin{bmatrix}Cr\\\ Cg\\\ Cb\end{bmatrix}
\]</pre> </div> <p>Out of gamut colors can produce negative solutions or solutions that exceed 1, these values must be clipped to stay within range. This trimming of the concentrations can attenuate the intensity of out-of-gamut colors, but we've also added a solution to compensate for this later.</p> </li> <li> <p>To better handle colors outside the sRGB gamut, once we've decomposed the out-of-gamut color to a reflectance curve, we convert it to XYZ and get the difference between it and the original and save this residual. Residuals occur when a color can't quite be represented with our primary colors. The identified residual XYZ values will be mixed separately from the reflectance curves and then added in at the end. This approach is very similar to what Mixbox describes in their paper and helps to provide more sane color mixing for colors outside the sRGB gamut.</p> </li> <li> <p>Spectral.js generally clips the mixed colors before returning them. We do not clip any colors that are out-of-gamut due to mixing in case the user is within a gamut that can accommodate them. Additionally, we allow colors outside of sRGB to be mixed as well.</p> <div class=playground id=__playground_4> <div class=playground-results id=__playground-results_4> <div class=color-command><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(0 0 255),rgb(0 3.8798 255),rgb(0 10.84 255),rgb(0 16.885 255),rgb(0 21.59 255),rgb(0 25.473 254.16),rgb(0 28.791 251.4),rgb(0 31.693 248.65),rgb(0 34.272 245.92),rgb(0 36.592 243.21),rgb(0 38.697 240.53),rgb(0 40.621 237.87),rgb(0 42.39 235.26),rgb(0 44.025 232.67),rgb(0 45.541 230.13),rgb(0 46.951 227.62),rgb(0 48.268 225.14),rgb(0 49.5 222.71),rgb(0 50.655 220.31),rgb(0 51.741 217.96),rgb(0 52.763 215.64),rgb(0 53.727 213.36),rgb(0 54.74 210.34),rgb(0 55.703 207.25),rgb(0 56.602 204.22),rgb(0 57.443 201.26),rgb(0 58.231 198.36),rgb(0 58.963 195.59),rgb(0 59.658 192.81),rgb(0 60.306 190.16),rgb(0 60.916 187.56),rgb(0 61.492 185.02),rgb(0 62.036 182.54),rgb(0 62.55 180.11),rgb(0 63.033 177.79),rgb(0 63.492 175.53),rgb(0 63.93 173.25),rgb(0 64.342 171.14),rgb(0 64.736 169.01),rgb(0 65.11 166.98),rgb(0 65.468 164.95),rgb(0 65.809 163.01),rgb(0 66.135 161.11),rgb(0 66.448 159.3),rgb(0 66.748 157.48),rgb(0 67.037 155.74),rgb(0 67.315 154.04),rgb(0 67.583 152.38),rgb(0 67.842 150.74),rgb(0 68.093 149.19),rgb(0 68.336 147.62),rgb(0 68.572 146.13),rgb(0 68.802 144.67),rgb(0 69.026 143.23),rgb(0 69.245 141.83),rgb(0 69.46 140.49),rgb(0 69.669 139.13),rgb(0 69.875 137.84),rgb(0 70.077 136.58),rgb(0 70.277 135.34),rgb(0 70.473 134.12),rgb(0 70.666 132.92),rgb(0 70.859 131.78),rgb(0 71.048 130.62),rgb(0 71.237 129.52),rgb(0 71.425 128.44),rgb(0 71.61 127.36),rgb(0 71.795 126.31),rgb(0 71.981 125.3),rgb(0 72.164 124.29),rgb(0 72.349 123.32),rgb(0 72.532 122.35),rgb(0 72.718 121.42),rgb(0 72.903 120.51),rgb(0 73.088 119.61),rgb(0 73.274 118.72),rgb(0 73.459 117.84),rgb(0 73.649 117.01),rgb(0 73.839 116.2),rgb(0 74.031 115.39),rgb(0 74.223 114.59),rgb(0 74.415 113.81),rgb(0 74.613 113.06),rgb(0 74.812 112.33),rgb(0 75.012 111.61),rgb(0 75.214 110.89),rgb(0 75.42 110.21),rgb(0 75.629 109.54),rgb(0 75.839 108.87),rgb(0 76.05 108.22),rgb(0 76.263 107.57),rgb(0 76.478 106.93),rgb(0 76.695 106.3),rgb(0 76.918 105.69),rgb(0 77.138 105.07),rgb(0 77.36 104.46),rgb(0 77.588 103.88),rgb(0 77.813 103.28),rgb(0 78.041 102.68),rgb(0 78.27 102.1),rgb(0 78.506 101.54),rgb(0 78.739 100.96),rgb(0 78.974 100.4),rgb(0 79.216 99.853),rgb(0 79.455 99.296),rgb(0 79.701 98.765),rgb(0 79.943 98.22),rgb(0 80.193 97.699),rgb(0 80.445 97.182),rgb(0 80.704 96.688),rgb(0 80.96 96.18),rgb(0 81.223 95.694),rgb(0 81.488 95.211),rgb(0 81.755 94.732),rgb(0 82.03 94.271),rgb(0 82.301 93.799),rgb(0 82.58 93.344),rgb(0 82.861 92.892),rgb(0 83.144 92.443),rgb(0 83.429 91.996),rgb(0 83.721 91.563),rgb(0 84.016 91.132),rgb(0 84.313 90.703),rgb(0 84.612 90.276),rgb(0 84.913 89.85),rgb(0 85.216 89.425),rgb(0 85.527 89.012),rgb(0 85.84 88.599),rgb(0 86.15 88.178),rgb(0 86.467 87.766),rgb(0 86.786 87.355),rgb(0 87.107 86.945),rgb(0 87.431 86.535),rgb(0 87.762 86.131),rgb(0 88.089 85.721),rgb(0 88.418 85.312),rgb(0 88.755 84.908),rgb(0 89.094 84.504),rgb(0 89.435 84.099),rgb(0 89.778 83.693),rgb(0 90.117 83.283),rgb(0 90.464 82.877),rgb(0 90.818 82.472),rgb(0 91.169 82.064),rgb(0 91.521 81.655),rgb(0 91.875 81.245),rgb(0 92.237 80.836),rgb(0 92.601 80.424),rgb(0 92.961 80.011),rgb(0 93.329 79.597),rgb(0 93.698 79.181),rgb(0 94.069 78.763),rgb(0 94.442 78.344),rgb(0 94.823 77.92),rgb(0 95.199 77.497),rgb(0 95.584 77.068),rgb(0 95.97 76.637),rgb(0 96.351 76.207),rgb(0 96.747 75.766),rgb(0 97.138 75.326),rgb(0 97.537 74.878),rgb(0 97.931 74.432),rgb(0 98.334 73.977),rgb(0 98.738 73.518),rgb(0 99.143 73.055),rgb(0 99.551 72.588),rgb(0 99.966 72.109),rgb(0 100.38 71.634),rgb(0 100.79 71.155),rgb(0 101.21 70.662),rgb(0 101.63 70.164),rgb(0 102.05 69.661),rgb(0 102.48 69.142),rgb(0 102.91 68.618),rgb(0 103.34 68.098),rgb(0 103.78 67.561),rgb(0 104.21 67.018),rgb(0 104.65 66.468),rgb(0 105.09 65.912),rgb(0 105.53 65.349),rgb(0 105.98 64.765),rgb(0 106.43 64.188),rgb(0 106.88 63.589),rgb(0 107.33 62.982),rgb(0 107.79 62.367),rgb(0 108.24 61.743),rgb(0 108.7 61.111),rgb(0 109.16 60.453),rgb(0 109.62 59.803),rgb(0 110.09 59.125),rgb(0 110.55 58.456),rgb(0 111.03 57.738),rgb(0 111.5 57.05),rgb(0 111.98 56.309),rgb(0 112.44 55.599),rgb(0 112.93 54.834),rgb(0 113.4 54.08),rgb(0 113.88 53.312),rgb(0 114.37 52.508),rgb(0 114.85 51.69),rgb(0 115.34 50.857),rgb(0 115.82 50.061),rgb(0 116.23 49.519),rgb(0 116.65 48.976),rgb(0 117.07 48.433),rgb(0 117.49 47.889),rgb(0 117.91 47.344),rgb(0 118.33 46.798),rgb(0 118.76 46.251),rgb(0 119.18 45.703),rgb(0 119.61 45.153),rgb(0 120.03 44.602),rgb(0 120.46 44.049),rgb(0 120.89 43.494),rgb(0 121.32 42.938),rgb(0 121.75 42.379),rgb(0 122.18 41.818),rgb(0 122.61 41.255),rgb(0 123.04 40.689),rgb(0 123.48 40.12),rgb(0 123.91 39.548),rgb(0 124.35 38.973),rgb(0 124.78 38.394),rgb(0 125.22 37.812),rgb(0 125.66 37.226),rgb(0 126.1 36.636),rgb(0.42967 126.54 36.041),rgb(3.2193 126.98 35.442),rgb(6.0528 127.42 34.838),rgb(8.9304 127.86 34.228),rgb(11.766 128.31 33.612),rgb(14.282 128.75 32.991),rgb(16.551 129.2 32.363),rgb(18.636 129.64 31.728),rgb(20.577 130.09 31.086),rgb(22.403 130.54 30.436),rgb(24.133 130.99 29.777),rgb(25.783 131.44 29.11),rgb(27.365 131.89 28.433),rgb(28.888 132.34 27.746),rgb(30.36 132.79 27.048),rgb(31.786 133.24 26.338),rgb(33.172 133.7 25.616),rgb(34.521 134.15 24.88),rgb(35.838 134.61 24.129),rgb(37.126 135.06 23.362),rgb(38.387 135.52 22.578),rgb(39.623 135.98 21.775),rgb(40.838 136.44 20.951),rgb(42.031 136.89 20.105),rgb(43.206 137.35 19.234),rgb(44.363 137.81 18.335),rgb(45.504 138.27 17.405),rgb(46.629 138.73 16.442),rgb(47.741 139.2 15.439),rgb(48.839 139.66 14.393),rgb(49.925 140.12 13.295),rgb(51 140.59 12.139),rgb(52.064 141.05 10.913),rgb(53.117 141.52 9.6062),rgb(54.161 141.98 8.2852),rgb(55.196 142.45 6.9706),rgb(56.222 142.92 5.6625),rgb(57.241 143.38 4.3604),rgb(58.252 143.85 3.0644),rgb(59.255 144.32 1.7741),rgb(60.252 144.79 0.48944),rgb(61.242 145.26 0),rgb(62.226 145.73 0),rgb(63.204 146.2 0),rgb(64.177 146.67 0),rgb(65.144 147.15 0),rgb(66.106 147.62 0),rgb(67.063 148.09 0),rgb(68.016 148.56 0),rgb(68.964 149.04 0),rgb(69.908 149.51 0),rgb(70.848 149.99 0),rgb(71.785 150.46 0),rgb(72.717 150.94 0),rgb(73.646 151.42 0),rgb(74.572 151.89 0),rgb(75.494 152.37 0),rgb(76.413 152.85 0),rgb(77.33 153.33 0),rgb(78.243 153.81 0),rgb(79.154 154.29 0),rgb(80.062 154.76 0),rgb(80.967 155.24 0),rgb(81.87 155.72 0),rgb(82.77 156.21 0),rgb(83.669 156.69 0),rgb(84.565 157.17 0),rgb(85.459 157.65 0),rgb(86.351 158.13 0),rgb(87.24 158.61 0),rgb(88.128 159.1 0),rgb(89.014 159.58 0),rgb(89.899 160.06 0),rgb(90.781 160.55 0),rgb(91.662 161.03 0),rgb(92.541 161.51 0),rgb(93.419 162 0),rgb(94.295 162.48 0),rgb(95.17 162.97 0),rgb(96.164 163.43 0),rgb(97.236 163.88 0),rgb(98.263 164.34 0),rgb(99.325 164.78 0),rgb(100.34 165.24 0),rgb(101.36 165.7 0),rgb(102.37 166.15 0),rgb(103.38 166.61 0),rgb(104.39 167.07 0),rgb(105.39 167.53 0),rgb(106.39 167.98 0),rgb(107.39 168.44 0),rgb(108.34 168.9 0),rgb(109.33 169.36 0),rgb(110.32 169.82 0),rgb(111.27 170.29 0),rgb(112.25 170.74 0),rgb(113.2 171.21 0),rgb(114.18 171.67 0),rgb(115.12 172.13 0),rgb(116.06 172.6 0),rgb(117.03 173.06 0),rgb(117.96 173.52 0),rgb(118.89 173.99 0),rgb(119.82 174.45 0),rgb(120.75 174.92 0),rgb(121.68 175.39 0),rgb(122.6 175.85 0),rgb(123.52 176.32 0),rgb(124.44 176.79 0),rgb(125.36 177.25 0),rgb(126.28 177.72 0),rgb(127.16 178.19 0),rgb(128.08 178.66 0),rgb(128.99 179.12 0),rgb(129.87 179.6 0),rgb(130.78 180.06 0),rgb(131.65 180.54 0),rgb(132.56 181 0),rgb(133.46 181.47 0),rgb(134.33 181.94 0),rgb(135.21 182.42 0),rgb(136.1 182.88 0),rgb(136.97 183.36 0),rgb(137.84 183.83 0),rgb(138.73 184.29 0),rgb(139.6 184.77 0),rgb(140.46 185.24 0),rgb(141.34 185.71 0),rgb(142.21 186.18 0),rgb(143.07 186.65 0),rgb(143.93 187.12 0),rgb(144.79 187.59 0),rgb(145.64 188.07 0),rgb(146.5 188.54 0),rgb(147.35 189.01 0),rgb(148.2 189.48 0),rgb(149.05 189.95 0),rgb(149.9 190.42 0),rgb(150.75 190.89 0),rgb(151.59 191.36 0),rgb(152.44 191.84 0),rgb(153.28 192.31 0),rgb(154.1 192.78 0),rgb(154.94 193.25 0),rgb(155.78 193.72 0),rgb(156.62 194.19 0),rgb(157.46 194.66 0),rgb(158.27 195.14 0),rgb(159.11 195.61 0),rgb(159.94 196.07 0),rgb(160.75 196.55 0),rgb(161.58 197.02 0),rgb(162.41 197.48 0),rgb(163.22 197.96 0),rgb(164.04 198.42 0),rgb(164.85 198.9 0),rgb(165.67 199.36 0),rgb(166.48 199.83 0),rgb(167.3 200.3 0),rgb(168.11 200.77 0),rgb(168.91 201.24 0),rgb(169.72 201.71 0),rgb(170.53 202.18 0),rgb(171.32 202.65 0),rgb(172.14 203.11 0),rgb(172.93 203.58 0),rgb(173.74 204.04 0),rgb(174.53 204.51 0),rgb(175.32 204.98 0),rgb(176.13 205.44 0),rgb(176.91 205.91 0),rgb(177.7 206.38 0),rgb(178.5 206.84 0),rgb(179.28 207.3 0),rgb(180.06 207.77 0),rgb(180.87 208.23 0),rgb(181.64 208.69 0),rgb(182.42 209.16 0),rgb(183.2 209.62 0),rgb(183.99 210.08 0),rgb(184.77 210.54 0),rgb(185.54 211 0),rgb(186.31 211.47 0),rgb(187.08 211.93 0),rgb(187.87 212.38 0),rgb(188.64 212.84 0),rgb(189.4 213.3 0),rgb(190.17 213.76 0),rgb(190.93 214.22 0),rgb(191.69 214.68 0),rgb(192.45 215.14 0),rgb(193.23 215.59 0),rgb(193.99 216.04 0),rgb(194.75 216.5 0),rgb(195.5 216.96 0),rgb(196.26 217.41 0),rgb(197.01 217.87 0),rgb(197.76 218.32 0),rgb(198.51 218.77 0),rgb(199.26 219.22 0),rgb(200.01 219.68 0),rgb(200.75 220.13 0),rgb(201.5 220.58 0),rgb(202.24 221.03 0),rgb(202.99 221.48 0),rgb(203.73 221.93 0),rgb(204.47 222.37 0),rgb(205.2 222.82 0),rgb(205.94 223.27 0),rgb(206.67 223.71 0),rgb(207.41 224.16 0),rgb(208.14 224.6 0),rgb(208.87 225.04 0),rgb(209.6 225.49 0),rgb(210.33 225.93 0),rgb(211.05 226.37 0),rgb(211.77 226.81 0),rgb(212.48 227.26 0),rgb(213.21 227.7 0),rgb(213.93 228.13 0),rgb(214.65 228.57 0),rgb(215.36 229.01 0),rgb(216.08 229.44 0),rgb(216.79 229.88 0),rgb(217.5 230.31 0),rgb(218.2 230.75 0),rgb(218.91 231.18 0),rgb(219.61 231.62 0),rgb(220.32 232.05 0),rgb(221.02 232.48 0),rgb(221.73 232.91 0),rgb(222.41 233.34 0),rgb(223.11 233.77 0),rgb(223.81 234.19 0),rgb(224.5 234.62 0),rgb(225.2 235.04 0),rgb(225.88 235.47 0),rgb(226.56 235.89 0),rgb(227.25 236.31 0),rgb(227.94 236.73 0),rgb(228.62 237.15 0),rgb(229.29 237.58 0),rgb(229.97 237.99 0),rgb(230.65 238.41 0),rgb(231.33 238.82 0),rgb(231.99 239.24 0),rgb(232.66 239.65 0),rgb(233.33 240.06 0),rgb(233.99 240.47 0),rgb(234.65 240.88 0),rgb(235.31 241.29 0),rgb(235.97 241.69 0),rgb(236.62 242.1 0),rgb(237.27 242.51 0),rgb(237.92 242.91 0),rgb(238.57 243.3 0),rgb(239.21 243.7 0),rgb(239.84 244.1 0),rgb(240.48 244.49 0),rgb(241.12 244.88 0),rgb(241.74 245.28 0),rgb(242.37 245.66 0),rgb(242.99 246.05 0),rgb(243.6 246.43 0),rgb(244.21 246.81 0),rgb(244.82 247.18 0),rgb(245.42 247.56 0),rgb(246.02 247.93 0),rgb(246.61 248.29 0),rgb(247.18 248.66 0),rgb(247.76 249.02 0),rgb(248.33 249.37 0),rgb(248.88 249.72 0),rgb(249.44 250.06 0),rgb(249.97 250.39 0),rgb(250.49 250.72 0),rgb(251.01 251.04 0),rgb(251.5 251.35 0),rgb(251.97 251.64 0),rgb(252.42 251.93 0),rgb(252.85 252.19 0),rgb(253.23 252.44 0),rgb(253.58 252.65 0),rgb(253.87 252.84 0),rgb(254.1 252.99 0),rgb(254.25 253.08 0),rgb(254.31 253.1 0)"></span></span></div><div class=swatch-bar><span class="swatch swatch-gradient"><span class=swatch-color style="--swatch-stops: rgb(0 0 255) 0%,rgb(0 0 255) 11.11111111111111%,rgb(0 71.237 129.52) 11.11111111111111%,rgb(0 71.237 129.52) 22.22222222222222%,rgb(0 86.15 88.178) 22.22222222222222%,rgb(0 86.15 88.178) 33.33333333333333%,rgb(0 111.5 57.05) 33.33333333333333%,rgb(0 111.5 57.05) 44.44444444444444%,rgb(49.925 140.12 13.295) 44.44444444444444%,rgb(49.925 140.12 13.295) 55.55555555555556%,rgb(111.27 170.29 0) 55.55555555555556%,rgb(111.27 170.29 0) 66.66666666666667%,rgb(167.3 200.3 0) 66.66666666666667%,rgb(167.3 200.3 0) 77.77777777777779%,rgb(216.08 229.44 0) 77.77777777777779%,rgb(216.08 229.44 0) 88.8888888888889%,rgb(254.31 253.1 0) 88.8888888888889%,rgb(254.31 253.1 0) 100.00000000000001%"></span></span></div><div class=highlight><pre><span></span><code><span class=gp>&gt;&gt;&gt; </span><span class=n>c1</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(display-p3 0 0 1)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>c2</span> <span class=o>=</span> <span class=n>Color</span><span class=p>(</span><span class=s1>&#39;color(display-p3 1 1 0)&#39;</span><span class=p>)</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Color</span><span class=o>.</span><span class=n>interpolate</span><span class=p>([</span><span class=n>c1</span><span class=p>,</span> <span class=n>c2</span><span class=p>],</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;spectral&#39;</span><span class=p>)</span>
<span class=go>&lt;coloraide_extras.interpolate.spectral.InterpolatorSpectralLinear object at 0x10735e8a0&gt;</span>
<span class=gp>&gt;&gt;&gt; </span><span class=n>Steps</span><span class=p>(</span><span class=n>Color</span><span class=o>.</span><span class=n>steps</span><span class=p>([</span><span class=n>c1</span><span class=p>,</span> <span class=n>c2</span><span class=p>],</span> <span class=n>method</span><span class=o>=</span><span class=s1>&#39;spectral&#39;</span><span class=p>,</span> <span class=n>steps</span><span class=o>=</span><span class=mi>9</span><span class=p>))</span>
<span class=go>[color(xyz-d65 0.19822 0.07929 1.0439 / 1), color(xyz-d65 0.05913 0.05924 0.27848 / 1), color(xyz-d65 0.04009 0.07143 0.11446 / 1), color(xyz-d65 0.05604 0.1143 0.05516 / 1), color(xyz-d65 0.10782 0.19497 0.03586 / 1), color(xyz-d65 0.20468 0.32142 0.03274 / 1), color(xyz-d65 0.35183 0.49531 0.03585 / 1), color(xyz-d65 0.54204 0.70661 0.04088 / 1), color(xyz-d65 0.73354 0.91145 0.04511 / 1)]</span>
</code></pre></div></div> </div> <div class="playground-code hidden" id=__playground-code_4 session data-search-exclude> <form autocomplete=off> <pre class=playground-inputs id=__playground-inputs_4 spellcheck=false>c1 = Color('color(display-p3 0 0 1)')
c2 = Color('color(display-p3 1 1 0)')
Color.interpolate([c1, c2], method='spectral')
Steps(Color.steps([c1, c2], method='spectral', steps=9))</pre> </form> </div> <div class=playground-footer data-search-exclude> <hr> <button id=__playground-edit_4 class=playground-edit title="Edit the current snippet">Edit</button> <button id=__playground-share_4 class=playground-share title="Copy URL to current snippet">Share</button> <button id=__playground-run_4 class="playground-run hidden" title="Run code (Ctrl + Enter)">Run</button> <button id=__playground-cancel_4 class="playground-cancel hidden" title="Cancel edit (Escape)">Cancel</button> <div class=spacer></div> <div class=footer-status> <span class=session></span> <span class=gamut>Gamut: srgb</span> </div> </div> </div> <p>Users are free to clip the returned colors or gamut map them in any way they see fit.</p> </li> <li> <p>While Spectral.js uses linear sRGB as their working space, we chose to work in XYZ D65. While the reflectance curves were calculated relative to the sRGB gamut, the actual mixing is not done in either sRGB or XYZ, but done with the K/S data coefficients, only the residual data is mixed directly in a color space and we opted to measure and mix it in a space non-specific to the sRGB gamut. Measuring and mixing the residual in linear sRGB would have been fine as well with likely little noticeable difference, but this is one area that could be experimented with more.</p> </li> </ol> <h2 id=registering>Registering<a class=headerlink href=#registering title="Permanent link"></a></h2> <p>Spectral mixing comes in two flavors, one which operations in normal piecewise linear, the other which uses the <a href=https://facelessuser.github.io/coloraide/interpolation/#continuous-interpolation>"continuous"</a> approach when handling undefined channels.</p> <div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>coloraide</span><span class=w> </span><span class=kn>import</span> <span class=n>Color</span> <span class=k>as</span> <span class=n>Base</span>
<span class=kn>from</span><span class=w> </span><span class=nn>coloraide_extras.interpolate.spectral</span><span class=w> </span><span class=kn>import</span> <span class=n>Spectral</span><span class=p>,</span> <span class=n>SpectralContinuous</span>

<span class=k>class</span><span class=w> </span><span class=nc>Color</span><span class=p>(</span><span class=n>Base</span><span class=p>):</span> <span class=o>...</span>

<span class=n>Color</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>Spectral</span><span class=p>())</span>
<span class=n>Color</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>SpectralContinuous</span><span class=p>())</span>
</code></pre></div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">March 3, 2025</span> </span> </aside> <footer class=sponsorship> <hr> <a href=https://github.com/sponsors/facelessuser title="Become a sponsor"> <span class="twemoji heart-throb-hover"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M7.655 14.916zh-.002l-.006-.003-.018-.01a22 22 0 0 1-3.744-2.584C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.044 5.231-3.886 6.818a22 22 0 0 1-3.433 2.414 7 7 0 0 1-.31.17l-.018.01-.008.004a.75.75 0 0 1-.69 0"/></svg> </span> </a> <hr> </footer> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=footer.title> <a href=../ class="md-footer__link md-footer__link--prev" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Interpolate </div> </div> </a> <a href=../../contrast/ class="md-footer__link md-footer__link--next" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Contrast </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2014 - 2025 <a href=https://github.com/facelessuser target=_blank rel=noopener>Isaac Muse</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> with emoji by <a href=https://github.com/twitter/twemoji target=_blank rel=noopener> Twemoji </a> </div> <div class=md-social> <a href=https://github.com/facelessuser target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tabs", "navigation.top", "navigation.instant", "navigation.sections", "navigation.indexes", "search.share", "search.highlight", "search.suggest"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=https://cdn.jsdelivr.net/npm/ace-builds@1.39.0/src-min-noconflict/ace.js></script> <script src=https://cdn.jsdelivr.net/npm/mermaid@11.3.0/dist/mermaid.min.js></script> <script src=../../playground-config-e243e34a.js></script> <script src=https://cdn.jsdelivr.net/pyodide/v0.26.4/full/pyodide.js></script> <script src=../../assets/coloraide-extras/extra-notebook-BuQ8qEc0.js></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script src=../../assets/pymdownx-extras/extra-loader-B5CKpNQx.js></script> </body> </html>